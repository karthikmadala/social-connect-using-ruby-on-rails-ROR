<h1 class="text-center my-4">News Feed</h1>
<%= render "posts/form" %>
<hr>

<!-- Posts List -->
<ul class="list-group">
  <%= render "posts/post"%>
</ul>

<style>
/* Custom CSS for better spacing and alignment */
.list-group-item {
  border: 1px solid #e9ecef;
  border-radius: 8px;
  margin-bottom: 10px;
}

.img-fluid {
  max-width: 100%;
  height: auto;
}

.rounded-circle {
  border: 2px solid #ddd;
}

#image-preview img {
  margin-right: 10px;
  margin-bottom: 10px;
}

.btn-sm {
  padding: 0.25rem 0.5rem;
  font-size: 0.875rem;
}
</style>

<script>
// Autoplay videos while scrolling
document.addEventListener("DOMContentLoaded", function() {
  const videos = document.querySelectorAll("video");

  const observer = new IntersectionObserver(
    (entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          entry.target.play();
        } else {
          entry.target.pause();
        }
      });
    },
    {
      threshold: 0.5, // Trigger when 50% of the video is visible
    }
  );

  videos.forEach((video) => {
    observer.observe(video);
  });
});
</script>